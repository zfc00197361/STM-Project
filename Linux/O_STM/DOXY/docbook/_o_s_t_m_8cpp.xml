<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_o_s_t_m_8cpp">
    <title>OSTM.cpp File Reference</title>
    <programlisting>#include &quot;OSTM.h&quot;</programlisting>
<para>Include dependency diagram for OSTM.cpp</para>
<para>
    <figure>
        <title>Dependency diagram</title>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="1" fileref="_o_s_t_m_8cpp__incl.png"></imagedata>
            </imageobject>
        </mediaobject>
    </figure>
</para>
<para>Included by dependency diagram for OSTM.cpp</para>
<para>
    <figure>
        <title>Dependency diagram</title>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="1" fileref="_o_s_t_m_8cpp__dep__incl.png"></imagedata>
            </imageobject>
        </mediaobject>
    </figure>
</para>
    <simplesect>
        <title>Detailed Description</title>
    <para>Definition in file OSTM.cpp</para>
    </simplesect>
    <literallayout><computeroutput>
1 <emphasis class="comment">/*&#32;</emphasis>
2 <emphasis class="comment">&#32;*&#32;File:&#32;&#32;&#32;OSTM.cpp</emphasis>
3 <emphasis class="comment">&#32;*&#32;Author:&#32;Zoltan&#32;Fuzesi</emphasis>
4 <emphasis class="comment">&#32;*&#32;</emphasis>
5 <emphasis class="comment">&#32;*&#32;Created&#32;on&#32;December&#32;18,&#32;2017,&#32;2:09&#32;PM</emphasis>
6 <emphasis class="comment">&#32;*&#32;OSTM&#32;cpp&#32;file&#32;methods&#32;implementations</emphasis>
7 <emphasis class="comment">&#32;*/</emphasis>
8 
9 <emphasis class="preprocessor">#include&#32;&quot;<link linkend="_o_s_t_m_8h">OSTM.h</link>&quot;</emphasis>
10 
11 <emphasis class="keywordtype">int</emphasis>&#32;<link linkend="class_o_s_t_m_acb617b9666d198c0de333c8613df0d4b_1acb617b9666d198c0de333c8613df0d4b">OSTM::global_Unique_ID_Number</link>&#32;=&#32;0;
12 
<link linkend="class_o_s_t_m_a968edf778668bd0ec7603f0571619196_1a968edf778668bd0ec7603f0571619196">20 </link><link linkend="class_o_s_t_m_a968edf778668bd0ec7603f0571619196_1a968edf778668bd0ec7603f0571619196">OSTM::OSTM</link>()
21 {
22 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_a9a6ea36181be2db7f9082d77956511d7_1a9a6ea36181be2db7f9082d77956511d7">version</link>&#32;=&#32;<link linkend="class_o_s_t_m_a0bb6ae8411d25f8e7b82d0a61729ea89_1a0bb6ae8411d25f8e7b82d0a61729ea89">ZERO</link>;
23 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_aa9fe59368b701af7f70befa23bd6901a_1aa9fe59368b701af7f70befa23bd6901a">uniqueID</link>&#32;=&#32;<link linkend="class_o_s_t_m_adee6903c1100e0d78640bd4b85e5d7df_1adee6903c1100e0d78640bd4b85e5d7df">Get_global_Unique_ID_Number</link>();&#32;<emphasis class="comment">//++global_Unique_ID_Number;</emphasis>
24 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_a2a5b89641af274ddc69bdf8c1c1a07d6_1a2a5b89641af274ddc69bdf8c1c1a07d6">canCommit</link>&#32;=&#32;<emphasis class="keyword">true</emphasis>;
25 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_a5121d9c4b08320b26beca82ba2f85c4a_1a5121d9c4b08320b26beca82ba2f85c4a">abort_Transaction</link>&#32;=&#32;<emphasis class="keyword">false</emphasis>;
26 }
27 
28 
<link linkend="class_o_s_t_m_a2314f55a127b94aa8a51d19ba798401e_1a2314f55a127b94aa8a51d19ba798401e">36 </link><link linkend="class_o_s_t_m_a968edf778668bd0ec7603f0571619196_1a968edf778668bd0ec7603f0571619196">OSTM::OSTM</link>(<emphasis class="keywordtype">int</emphasis>&#32;_version_number_,&#32;<emphasis class="keywordtype">int</emphasis>&#32;_unique_id_)
37 {
38 &#32;&#32;&#32;<emphasis class="comment">//&#32;std::cout&#32;&lt;&lt;&#32;&quot;OSTM&#32;COPY&#32;CONSTRUCTOR&quot;&#32;&lt;&lt;&#32;global_Unique_ID_Number&#32;&lt;&lt;&#32;std::endl;</emphasis>
39 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_aa9fe59368b701af7f70befa23bd6901a_1aa9fe59368b701af7f70befa23bd6901a">uniqueID</link>&#32;=&#32;_unique_id_;
40 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_a9a6ea36181be2db7f9082d77956511d7_1a9a6ea36181be2db7f9082d77956511d7">version</link>&#32;=&#32;_version_number_;
41 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_a2a5b89641af274ddc69bdf8c1c1a07d6_1a2a5b89641af274ddc69bdf8c1c1a07d6">canCommit</link>&#32;=&#32;<emphasis class="keyword">true</emphasis>;
42 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_a5121d9c4b08320b26beca82ba2f85c4a_1a5121d9c4b08320b26beca82ba2f85c4a">abort_Transaction</link>&#32;=&#32;<emphasis class="keyword">false</emphasis>;
43 }
44 
<link linkend="class_o_s_t_m_a30a17d73d0259c60eeab72d6dfa9ceb1_1a30a17d73d0259c60eeab72d6dfa9ceb1">48 </link><link linkend="class_o_s_t_m_a30a17d73d0259c60eeab72d6dfa9ceb1_1a30a17d73d0259c60eeab72d6dfa9ceb1">OSTM::~OSTM</link>()&#32;{
49 &#32;&#32;&#32;&#32;<emphasis class="comment">//std::cout&#32;&lt;&lt;&#32;&quot;[OSTM&#32;DELETE]&quot;&#32;&lt;&lt;&#32;std::endl;</emphasis>
50 }
<link linkend="class_o_s_t_m_adee6903c1100e0d78640bd4b85e5d7df_1adee6903c1100e0d78640bd4b85e5d7df">56 </link><emphasis class="keywordtype">int</emphasis>&#32;<link linkend="class_o_s_t_m_adee6903c1100e0d78640bd4b85e5d7df_1adee6903c1100e0d78640bd4b85e5d7df">OSTM::Get_global_Unique_ID_Number</link>()&#32;{
57 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>(<link linkend="class_o_s_t_m_acb617b9666d198c0de333c8613df0d4b_1acb617b9666d198c0de333c8613df0d4b">global_Unique_ID_Number</link>&#32;&gt;&#32;10000000)
58 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="class_o_s_t_m_acb617b9666d198c0de333c8613df0d4b_1acb617b9666d198c0de333c8613df0d4b">global_Unique_ID_Number</link>&#32;=&#32;0;
59 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>&#32;++<link linkend="class_o_s_t_m_acb617b9666d198c0de333c8613df0d4b_1acb617b9666d198c0de333c8613df0d4b">global_Unique_ID_Number</link>;
60 }
61 
<link linkend="class_o_s_t_m_ab5019a32185631c08abbf826422f2d93_1ab5019a32185631c08abbf826422f2d93">66 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="class_o_s_t_m_ab5019a32185631c08abbf826422f2d93_1ab5019a32185631c08abbf826422f2d93">OSTM::Set_Unique_ID</link>(<emphasis class="keywordtype">int</emphasis>&#32;<link linkend="class_o_s_t_m_aa9fe59368b701af7f70befa23bd6901a_1aa9fe59368b701af7f70befa23bd6901a">uniqueID</link>)&#32;{
67 &#32;&#32;&#32;&#32;this-&gt;uniqueID&#32;=&#32;<link linkend="class_o_s_t_m_aa9fe59368b701af7f70befa23bd6901a_1aa9fe59368b701af7f70befa23bd6901a">uniqueID</link>;
68 }
<link linkend="class_o_s_t_m_a5a01a8b98d16b1d1904ecf9356e7b71d_1a5a01a8b98d16b1d1904ecf9356e7b71d">73 </link><emphasis class="keywordtype">int</emphasis>&#32;<link linkend="class_o_s_t_m_a5a01a8b98d16b1d1904ecf9356e7b71d_1a5a01a8b98d16b1d1904ecf9356e7b71d">OSTM::Get_Unique_ID</link>()<emphasis class="keyword">&#32;const</emphasis>
74 <emphasis class="keyword"></emphasis>{
75 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>&#32;<link linkend="class_o_s_t_m_aa9fe59368b701af7f70befa23bd6901a_1aa9fe59368b701af7f70befa23bd6901a">uniqueID</link>;
76 }
<link linkend="class_o_s_t_m_a9529ad8d6d28c1f0cc9b86ed91df1ae1_1a9529ad8d6d28c1f0cc9b86ed91df1ae1">81 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="class_o_s_t_m_a9529ad8d6d28c1f0cc9b86ed91df1ae1_1a9529ad8d6d28c1f0cc9b86ed91df1ae1">OSTM::Set_Version</link>(<emphasis class="keywordtype">int</emphasis>&#32;<link linkend="class_o_s_t_m_a9a6ea36181be2db7f9082d77956511d7_1a9a6ea36181be2db7f9082d77956511d7">version</link>)
82 {
83 &#32;&#32;&#32;&#32;this-&gt;version&#32;=&#32;<link linkend="class_o_s_t_m_a9a6ea36181be2db7f9082d77956511d7_1a9a6ea36181be2db7f9082d77956511d7">version</link>;
84 }
<link linkend="class_o_s_t_m_a1f1db9d482f22c8e7caa17dfb340626b_1a1f1db9d482f22c8e7caa17dfb340626b">89 </link><emphasis class="keywordtype">int</emphasis>&#32;<link linkend="class_o_s_t_m_a1f1db9d482f22c8e7caa17dfb340626b_1a1f1db9d482f22c8e7caa17dfb340626b">OSTM::Get_Version</link>()<emphasis class="keyword">&#32;const</emphasis>
90 <emphasis class="keyword"></emphasis>{
91 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>&#32;<link linkend="class_o_s_t_m_a9a6ea36181be2db7f9082d77956511d7_1a9a6ea36181be2db7f9082d77956511d7">version</link>;
92 }
<link linkend="class_o_s_t_m_a5f90caa4384d371c16b7cac860d9f89a_1a5f90caa4384d371c16b7cac860d9f89a">97 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="class_o_s_t_m_a5f90caa4384d371c16b7cac860d9f89a_1a5f90caa4384d371c16b7cac860d9f89a">OSTM::increase_VersionNumber</link>()
98 {
99 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_a9a6ea36181be2db7f9082d77956511d7_1a9a6ea36181be2db7f9082d77956511d7">version</link>&#32;+=&#32;1;
100 }
<link linkend="class_o_s_t_m_a813ee61c9d1c83c6a6ae30d12aca8a5d_1a813ee61c9d1c83c6a6ae30d12aca8a5d">105 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="class_o_s_t_m_a813ee61c9d1c83c6a6ae30d12aca8a5d_1a813ee61c9d1c83c6a6ae30d12aca8a5d">OSTM::Set_Can_Commit</link>(<emphasis class="keywordtype">bool</emphasis>&#32;<link linkend="class_o_s_t_m_a2a5b89641af274ddc69bdf8c1c1a07d6_1a2a5b89641af274ddc69bdf8c1c1a07d6">canCommit</link>)&#32;{
106 &#32;&#32;&#32;&#32;this-&gt;canCommit&#32;=&#32;<link linkend="class_o_s_t_m_a2a5b89641af274ddc69bdf8c1c1a07d6_1a2a5b89641af274ddc69bdf8c1c1a07d6">canCommit</link>;
107 }
<link linkend="class_o_s_t_m_a8df39ced3b401aa466df97e26d14b1b7_1a8df39ced3b401aa466df97e26d14b1b7">112 </link><emphasis class="keywordtype">bool</emphasis>&#32;<link linkend="class_o_s_t_m_a8df39ced3b401aa466df97e26d14b1b7_1a8df39ced3b401aa466df97e26d14b1b7">OSTM::Is_Can_Commit</link>()<emphasis class="keyword">&#32;const&#32;</emphasis>{
113 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>&#32;<link linkend="class_o_s_t_m_a2a5b89641af274ddc69bdf8c1c1a07d6_1a2a5b89641af274ddc69bdf8c1c1a07d6">canCommit</link>;
114 }
<link linkend="class_o_s_t_m_aba384cf65c5f56f5b86833730c3c6ea4_1aba384cf65c5f56f5b86833730c3c6ea4">119 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="class_o_s_t_m_aba384cf65c5f56f5b86833730c3c6ea4_1aba384cf65c5f56f5b86833730c3c6ea4">OSTM::Set_Abort_Transaction</link>(<emphasis class="keywordtype">bool</emphasis>&#32;abortTransaction)&#32;{
120 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_a5121d9c4b08320b26beca82ba2f85c4a_1a5121d9c4b08320b26beca82ba2f85c4a">abort_Transaction</link>&#32;=&#32;abortTransaction;
121 }
<link linkend="class_o_s_t_m_afc2851abf5342c3c67342c2c14820115_1afc2851abf5342c3c67342c2c14820115">126 </link><emphasis class="keywordtype">bool</emphasis>&#32;<link linkend="class_o_s_t_m_afc2851abf5342c3c67342c2c14820115_1afc2851abf5342c3c67342c2c14820115">OSTM::Is_Abort_Transaction</link>()<emphasis class="keyword">&#32;const&#32;</emphasis>{
127 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>&#32;<link linkend="class_o_s_t_m_a5121d9c4b08320b26beca82ba2f85c4a_1a5121d9c4b08320b26beca82ba2f85c4a">abort_Transaction</link>;
128 }
<link linkend="class_o_s_t_m_af192c598a3c647f37aaba5757e60240f_1af192c598a3c647f37aaba5757e60240f">133 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="class_o_s_t_m_af192c598a3c647f37aaba5757e60240f_1af192c598a3c647f37aaba5757e60240f">OSTM::lock_Mutex</link>()&#32;{
134 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_aaab0921fd1564b793f882a5002ec7106_1aaab0921fd1564b793f882a5002ec7106">mutex</link>.lock();
135 }
<link linkend="class_o_s_t_m_a6cd703bc26c719fd95b4f5362d050762_1a6cd703bc26c719fd95b4f5362d050762">140 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="class_o_s_t_m_a6cd703bc26c719fd95b4f5362d050762_1a6cd703bc26c719fd95b4f5362d050762">OSTM::unlock_Mutex</link>()&#32;{
141 &#32;&#32;&#32;&#32;this-&gt;<link linkend="class_o_s_t_m_aaab0921fd1564b793f882a5002ec7106_1aaab0921fd1564b793f882a5002ec7106">mutex</link>.unlock();
142 }
<link linkend="class_o_s_t_m_afb6520023ed2c4a6188b688c46f192d0_1afb6520023ed2c4a6188b688c46f192d0">147 </link><emphasis class="keywordtype">bool</emphasis>&#32;<link linkend="class_o_s_t_m_afb6520023ed2c4a6188b688c46f192d0_1afb6520023ed2c4a6188b688c46f192d0">OSTM::is_Locked</link>(){
148 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>&#32;this-&gt;<link linkend="class_o_s_t_m_aaab0921fd1564b793f882a5002ec7106_1aaab0921fd1564b793f882a5002ec7106">mutex</link>.try_lock();
149 }
    </computeroutput></literallayout>
</section>
