\hypertarget{_t_m_8h_source}{}\subsection{T\+M.\+h}

\begin{DoxyCode}
00001 \textcolor{comment}{/* }
00002 \textcolor{comment}{ * File:   TM.h}
00003 \textcolor{comment}{ * Author: Zoltan Fuzesi}
00004 \textcolor{comment}{ * }
00005 \textcolor{comment}{ * Created on December 18, 2017, 2:09 PM}
00006 \textcolor{comment}{ * Transaction Manager class fields and methods declarations}
00007 \textcolor{comment}{ */}
00038 \textcolor{preprocessor}{#ifndef TM\_H}
00039 \textcolor{preprocessor}{#define TM\_H}
00040 
00041 \textcolor{preprocessor}{#include <thread>}
00042 \textcolor{preprocessor}{#include <unistd.h>}\textcolor{comment}{//used for pid\_t}
00043 \textcolor{preprocessor}{#include <mutex>}
00044 \textcolor{preprocessor}{#include <unordered\_map>}
00045 \textcolor{preprocessor}{#include <utility>}
00046 \textcolor{preprocessor}{#include <map>}
00047 \textcolor{preprocessor}{#include "TX.h"}
00048 
\hypertarget{_t_m_8h_source.tex_l00049}{}\hyperlink{class_t_m}{00049} \textcolor{keyword}{class }\hyperlink{class_t_m}{TM} \{
00050 \textcolor{keyword}{private}:
00054     \hyperlink{class_t_m}{TM}() = \textcolor{keywordflow}{default}; 
00058     ~\hyperlink{class_t_m}{TM}() = \textcolor{keywordflow}{default};
00062     \hyperlink{class_t_m}{TM}(\textcolor{keyword}{const} \hyperlink{class_t_m}{TM}&) = \textcolor{keyword}{delete}; 
00066     \hyperlink{class_t_m}{TM}& operator=(\textcolor{keyword}{const} \hyperlink{class_t_m}{TM}&) = \textcolor{keyword}{delete}; 
00070     std::map<std::thread::id, std::shared\_ptr<TX>>txMap;
00075     \textcolor{keyword}{static} std::map<pid\_t, std::map< std::thread::id, int >> process\_map\_collection;
00079     std::map< std::thread::id, int > get\_thread\_Map();
00083     \textcolor{keywordtype}{void} registerTX(); 
00087     std::mutex register\_Lock;
00091     std::mutex get\_Lock;
00095     \textcolor{keyword}{static} pid\_t \_tm\_id;
00096 
00097 
00098 \textcolor{keyword}{public}:
00099 
00103     \textcolor{keyword}{static} \hyperlink{class_t_m}{TM}& \hyperlink{class_t_m_a7ce5f35e0dae76df4fe116cf905bbe60}{Instance}();
00107     std::shared\_ptr<TX>\textcolor{keyword}{const} \hyperlink{class_t_m_a41cb0226cc4080c931651b13f74a0075}{\_get\_tx}(); 
00111     \textcolor{keywordtype}{void} \hyperlink{class_t_m_a5e2d1127f2429f2f524d25f430eade06}{\_TX\_EXIT}();
00115     \textcolor{keywordtype}{void} \hyperlink{class_t_m_a1d6891b1d3e71cc0acef54e7afe71c09}{print\_all}();
00116     
00117 
00118 \};
00119 
00120 
00121 \textcolor{preprocessor}{#endif // TM\_H}
\end{DoxyCode}
