\hypertarget{class_t_x}{}\subsection{TX Class Reference}
\label{class_t_x}\index{TX@{TX}}


{\ttfamily \#include $<$T\+X.\+h$>$}



Collaboration diagram for TX\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{class_t_x__coll__graph}
\end{center}
\end{figure}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_t_x_aa3ac499f576326588628ade96b27b4b1_aa3ac499f576326588628ade96b27b4b1}{\+\_\+decrease\+\_\+tx\+\_\+nesting} ()
\begin{DoxyCompactList}\small\item\em Remove \hyperlink{class_t_x}{TX} nesting level by one. \end{DoxyCompactList}\item 
void \hyperlink{class_t_x_a1384bdf12d795854b5d32e7f61ffbdb8_a1384bdf12d795854b5d32e7f61ffbdb8}{\+\_\+increase\+\_\+tx\+\_\+nesting} ()
\begin{DoxyCompactList}\small\item\em Add \hyperlink{class_t_x}{TX} nesting level by one. \end{DoxyCompactList}\item 
void \hyperlink{class_t_x_a3d96ed91eb9ec73e16589f705661c5a7_a3d96ed91eb9ec73e16589f705661c5a7}{\+\_\+print\+\_\+all\+\_\+tx} ()
\item 
void \hyperlink{class_t_x_abc32af2f51df97ac483e5bfe7db6ca6e_abc32af2f51df97ac483e5bfe7db6ca6e}{\+\_\+register} (std\+::shared\+\_\+ptr$<$ \hyperlink{class_o_s_t_m}{O\+S\+TM} $>$ object)
\begin{DoxyCompactList}\small\item\em Register \hyperlink{class_o_s_t_m}{O\+S\+TM} pointer into S\+TM library. \end{DoxyCompactList}\item 
bool \hyperlink{class_t_x_a9dde5d356b35e557448e58d260087356_a9dde5d356b35e557448e58d260087356}{commit} ()
\begin{DoxyCompactList}\small\item\em Commit transactional changes. \end{DoxyCompactList}\item 
int \hyperlink{class_t_x_ae9bf97930c4670f59d334b345353a71e_ae9bf97930c4670f59d334b345353a71e}{get\+Test\+\_\+counter} ()
\begin{DoxyCompactList}\small\item\em get\+Test\+\_\+counter T\+E\+S\+T\+I\+NG O\+N\+L\+Y!!! returning the value of the test\+\_\+counter stored, number of rollbacks \end{DoxyCompactList}\item 
int \hyperlink{class_t_x_afc42d088f325b349e70651fb454e6a44_afc42d088f325b349e70651fb454e6a44}{get\+Tx\+\_\+nesting\+\_\+level} () const 
\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{class_o_s_t_m}{O\+S\+TM} $>$ \hyperlink{class_t_x_a1d78262b8831ddd042ed491f2e600e24_a1d78262b8831ddd042ed491f2e600e24}{load} (std\+::shared\+\_\+ptr$<$ \hyperlink{class_o_s_t_m}{O\+S\+TM} $>$ object)
\begin{DoxyCompactList}\small\item\em load std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$, returning an std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ copy of the original pointer, to work with during transaction life time \end{DoxyCompactList}\item 
void \hyperlink{class_t_x_aa9739c5c2077454c779098db7baefc2b_aa9739c5c2077454c779098db7baefc2b}{ostm\+\_\+exit} ()
\begin{DoxyCompactList}\small\item\em Delete all map entries associated with the main process. \end{DoxyCompactList}\item 
void \hyperlink{class_t_x_aef4636bd446ddca0a399bb5bd438dfde_aef4636bd446ddca0a399bb5bd438dfde}{set\+Tx\+\_\+nesting\+\_\+level} (int \hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\+\_\+tx\+\_\+nesting\+\_\+level})
\item 
void \hyperlink{class_t_x_a7dbcb369aa4a3370b6c6829d278ece5d_a7dbcb369aa4a3370b6c6829d278ece5d}{store} (std\+::shared\+\_\+ptr$<$ \hyperlink{class_o_s_t_m}{O\+S\+TM} $>$ object)
\begin{DoxyCompactList}\small\item\em Store transactional changes. \end{DoxyCompactList}\item 
\hyperlink{class_t_x_a8a4b83eab0171ae834bfa92bbced1094_a8a4b83eab0171ae834bfa92bbced1094}{TX} (std\+::thread\+::id id)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{class_t_x_ab96b3dd2bfd621b47307f0af3ec4f35c_ab96b3dd2bfd621b47307f0af3ec4f35c}{TX} (const \hyperlink{class_t_x}{TX} \&orig)
\begin{DoxyCompactList}\small\item\em Default copy constructor. \end{DoxyCompactList}\item 
\hyperlink{class_t_x_abecf854cc3228ab6dd51175b3cd1c70a_abecf854cc3228ab6dd51175b3cd1c70a}{$\sim$\+TX} ()
\begin{DoxyCompactList}\small\item\em De-\/constructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{class_t_x_a25838234aab99ae891a90eb8623a8b3c_a25838234aab99ae891a90eb8623a8b3c}{test\+\_\+counter} = 0
\end{DoxyCompactItemize}
\subsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
const std\+::thread\+::id \hyperlink{class_t_x_a9eba04944d449285905b60ec47223cff_a9eba04944d449285905b60ec47223cff}{\+\_\+get\+\_\+tx\+\_\+number} () const 
\begin{DoxyCompactList}\small\item\em \+\_\+get\+\_\+tx\+\_\+number returning the transaction uniqe identifier \end{DoxyCompactList}\item 
void \hyperlink{class_t_x_a4c13d2015dc15d0f788fa9a1413f0463_a4c13d2015dc15d0f788fa9a1413f0463}{\+\_\+release\+\_\+object\+\_\+lock} ()
\begin{DoxyCompactList}\small\item\em \+\_\+release\+\_\+object\+\_\+lock void, is get called from commit function, with the purpose to release the locks on all the objects participating in the transaction \end{DoxyCompactList}\item 
std\+::map$<$ int, int $>$ \hyperlink{class_t_x_a3f5671423cb7b9f9c98f8a25f2a4b545_a3f5671423cb7b9f9c98f8a25f2a4b545}{get\+\_\+thread\+\_\+\+Map} ()
\begin{DoxyCompactList}\small\item\em get\+\_\+thread\+\_\+\+Map returning and map to insert to the process\+\_\+map\+\_\+collection as an inner value \end{DoxyCompactList}\item 
void \hyperlink{class_t_x_ae045534c4a9d39bd5c6ea2a39a372a79_ae045534c4a9d39bd5c6ea2a39a372a79}{th\+\_\+exit} ()
\begin{DoxyCompactList}\small\item\em Clean up all associated values by the thread delete from working\+\_\+\+Map\+\_\+collection, it is an automated function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\+\_\+tx\+\_\+nesting\+\_\+level}
\item 
std\+::thread\+::id \hyperlink{class_t_x_a145a1c74b521f277fe481971a930b249_a145a1c74b521f277fe481971a930b249}{transaction\+\_\+\+Number}
\begin{DoxyCompactList}\small\item\em Returning the transaction number. \end{DoxyCompactList}\item 
std\+::map$<$ int, std\+::shared\+\_\+ptr$<$ \hyperlink{class_o_s_t_m}{O\+S\+TM} $>$ $>$ \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\+\_\+\+Map\+\_\+collection}
\begin{DoxyCompactList}\small\item\em M\+AP Collection to store O\+S\+T\+M$\ast$ parent based pointers to make invisible changes during isolated transaction. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::map$<$ int, std\+::shared\+\_\+ptr$<$ \hyperlink{class_o_s_t_m}{O\+S\+TM} $>$ $>$ \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection}
\begin{DoxyCompactList}\small\item\em S\+T\+A\+T\+IC G\+L\+O\+B\+AL M\+AP Collection to store O\+S\+T\+M$\ast$ parent based pointers to control/lock and compare objects version number within transactions. \end{DoxyCompactList}\item 
static std\+::map$<$ pid\+\_\+t, std\+::map$<$ int, int $>$ $>$ \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{process\+\_\+map\+\_\+collection}
\begin{DoxyCompactList}\small\item\em S\+T\+A\+T\+IC G\+L\+O\+B\+AL M\+AP Collection to store all process associated keys to find when deleting transactions. \end{DoxyCompactList}\item 
static std\+::mutex \hyperlink{class_t_x_aa688a8c96fa3cdf8cd92e267463536dc_aa688a8c96fa3cdf8cd92e267463536dc}{register\+\_\+\+Lock}
\end{DoxyCompactItemize}
\subsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_t_x_adf1ccda799ef5c419cb43b8ae55eb45c_adf1ccda799ef5c419cb43b8ae55eb45c}{TM}
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}


Definition at line \hyperlink{_t_x_8h_source_l00024}{24} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



\subsubsection{Constructor \& Destructor Documentation}
\index{TX@{TX}!TX@{TX}}
\index{TX@{TX}!TX@{TX}}
\paragraph[{\texorpdfstring{T\+X(std\+::thread\+::id id)}{TX(std::thread::id id)}}]{\setlength{\rightskip}{0pt plus 5cm}T\+X\+::\+TX (
\begin{DoxyParamCaption}
\item[{std\+::thread\+::id}]{id}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_a8a4b83eab0171ae834bfa92bbced1094_a8a4b83eab0171ae834bfa92bbced1094}{}\label{class_t_x_a8a4b83eab0171ae834bfa92bbced1094_a8a4b83eab0171ae834bfa92bbced1094}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em transaction\+\_\+\+Number} & int, to store associated thread \\
\hline
{\em \+\_\+tx\+\_\+nesting\+\_\+level} & int, to store and indicate nesting level of transactions within transaction \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00031}{31} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00104}{\+\_\+tx\+\_\+nesting\+\_\+level}, and \hyperlink{_t_x_8h_source_l00100}{transaction\+\_\+\+Number}.


\begin{DoxyCode}
00031                      \{
00032     this->\hyperlink{class_t_x_a145a1c74b521f277fe481971a930b249_a145a1c74b521f277fe481971a930b249}{transaction\_Number} = id;
00033     this->\hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\_tx\_nesting\_level} = 0;
00034 \}
\end{DoxyCode}
\index{TX@{TX}!````~TX@{$\sim$\+TX}}
\index{````~TX@{$\sim$\+TX}!TX@{TX}}
\paragraph[{\texorpdfstring{$\sim$\+T\+X()}{~TX()}}]{\setlength{\rightskip}{0pt plus 5cm}T\+X\+::$\sim$\+TX (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_abecf854cc3228ab6dd51175b3cd1c70a_abecf854cc3228ab6dd51175b3cd1c70a}{}\label{class_t_x_abecf854cc3228ab6dd51175b3cd1c70a_abecf854cc3228ab6dd51175b3cd1c70a}


De-\/constructor. 



Definition at line \hyperlink{_t_x_8cpp_source_l00038}{38} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.


\begin{DoxyCode}
00038         \{
00039    
00040 \}
\end{DoxyCode}
\index{TX@{TX}!TX@{TX}}
\index{TX@{TX}!TX@{TX}}
\paragraph[{\texorpdfstring{T\+X(const T\+X \&orig)}{TX(const TX &orig)}}]{\setlength{\rightskip}{0pt plus 5cm}T\+X\+::\+TX (
\begin{DoxyParamCaption}
\item[{const {\bf TX} \&}]{orig}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_ab96b3dd2bfd621b47307f0af3ec4f35c_ab96b3dd2bfd621b47307f0af3ec4f35c}{}\label{class_t_x_ab96b3dd2bfd621b47307f0af3ec4f35c_ab96b3dd2bfd621b47307f0af3ec4f35c}


Default copy constructor. 



Definition at line \hyperlink{_t_x_8cpp_source_l00044}{44} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.


\begin{DoxyCode}
00044                      \{
00045 
00046 \}
\end{DoxyCode}


\subsubsection{Member Function Documentation}
\index{TX@{TX}!\+\_\+decrease\+\_\+tx\+\_\+nesting@{\+\_\+decrease\+\_\+tx\+\_\+nesting}}
\index{\+\_\+decrease\+\_\+tx\+\_\+nesting@{\+\_\+decrease\+\_\+tx\+\_\+nesting}!TX@{TX}}
\paragraph[{\texorpdfstring{\+\_\+decrease\+\_\+tx\+\_\+nesting()}{_decrease_tx_nesting()}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::\+\_\+decrease\+\_\+tx\+\_\+nesting (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_aa3ac499f576326588628ade96b27b4b1_aa3ac499f576326588628ade96b27b4b1}{}\label{class_t_x_aa3ac499f576326588628ade96b27b4b1_aa3ac499f576326588628ade96b27b4b1}


Remove \hyperlink{class_t_x}{TX} nesting level by one. 

\+\_\+decrease\+\_\+tx\+\_\+nesting decrease the value stored in \+\_\+tx\+\_\+nesting\+\_\+level by one, when outer transactions commiting


\begin{DoxyParams}{Parameters}
{\em \+\_\+tx\+\_\+nesting\+\_\+level} & int \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00316}{316} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00104}{\+\_\+tx\+\_\+nesting\+\_\+level}.



Referenced by \hyperlink{_t_x_8cpp_source_l00202}{commit()}.


\begin{DoxyCode}
00316                               \{
00317    \textcolor{comment}{// std::cout << "[this->\_tx\_nesting\_level] = " << this->\_tx\_nesting\_level << std::endl;}
00318     this->\hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\_tx\_nesting\_level} -= 1;
00319 ;
00320 \}
\end{DoxyCode}
\index{TX@{TX}!\+\_\+get\+\_\+tx\+\_\+number@{\+\_\+get\+\_\+tx\+\_\+number}}
\index{\+\_\+get\+\_\+tx\+\_\+number@{\+\_\+get\+\_\+tx\+\_\+number}!TX@{TX}}
\paragraph[{\texorpdfstring{\+\_\+get\+\_\+tx\+\_\+number() const }{_get_tx_number() const }}]{\setlength{\rightskip}{0pt plus 5cm}const std\+::thread\+::id T\+X\+::\+\_\+get\+\_\+tx\+\_\+number (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_t_x_a9eba04944d449285905b60ec47223cff_a9eba04944d449285905b60ec47223cff}{}\label{class_t_x_a9eba04944d449285905b60ec47223cff_a9eba04944d449285905b60ec47223cff}


\+\_\+get\+\_\+tx\+\_\+number returning the transaction uniqe identifier 

\+\_\+get\+\_\+tx\+\_\+number std\+::thread\+::id, returning the thread id that has assigned the given transaction


\begin{DoxyParams}{Parameters}
{\em transaction\+\_\+\+Number} & int \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00331}{331} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00100}{transaction\+\_\+\+Number}.


\begin{DoxyCode}
00331                                            \{
00332     \textcolor{keywordflow}{return} \hyperlink{class_t_x_a145a1c74b521f277fe481971a930b249_a145a1c74b521f277fe481971a930b249}{transaction\_Number};
00333 \}
\end{DoxyCode}
\index{TX@{TX}!\+\_\+increase\+\_\+tx\+\_\+nesting@{\+\_\+increase\+\_\+tx\+\_\+nesting}}
\index{\+\_\+increase\+\_\+tx\+\_\+nesting@{\+\_\+increase\+\_\+tx\+\_\+nesting}!TX@{TX}}
\paragraph[{\texorpdfstring{\+\_\+increase\+\_\+tx\+\_\+nesting()}{_increase_tx_nesting()}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::\+\_\+increase\+\_\+tx\+\_\+nesting (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_a1384bdf12d795854b5d32e7f61ffbdb8_a1384bdf12d795854b5d32e7f61ffbdb8}{}\label{class_t_x_a1384bdf12d795854b5d32e7f61ffbdb8_a1384bdf12d795854b5d32e7f61ffbdb8}


Add \hyperlink{class_t_x}{TX} nesting level by one. 

\+\_\+increase\+\_\+tx\+\_\+nesting increase the value stored in \+\_\+tx\+\_\+nesting\+\_\+level by one, indicate that the transaction nested


\begin{DoxyParams}{Parameters}
{\em \+\_\+tx\+\_\+nesting\+\_\+level} & int \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00307}{307} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00104}{\+\_\+tx\+\_\+nesting\+\_\+level}.


\begin{DoxyCode}
00307                               \{
00308       
00309     this->\hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\_tx\_nesting\_level} += 1;
00310     \textcolor{comment}{// std::cout << "[this->\_tx\_nesting\_level] = " << this->\_tx\_nesting\_level << std::endl;}
00311 \}
\end{DoxyCode}
\index{TX@{TX}!\+\_\+print\+\_\+all\+\_\+tx@{\+\_\+print\+\_\+all\+\_\+tx}}
\index{\+\_\+print\+\_\+all\+\_\+tx@{\+\_\+print\+\_\+all\+\_\+tx}!TX@{TX}}
\paragraph[{\texorpdfstring{\+\_\+print\+\_\+all\+\_\+tx()}{_print_all_tx()}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::\+\_\+print\+\_\+all\+\_\+tx (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_a3d96ed91eb9ec73e16589f705661c5a7_a3d96ed91eb9ec73e16589f705661c5a7}{}\label{class_t_x_a3d96ed91eb9ec73e16589f705661c5a7_a3d96ed91eb9ec73e16589f705661c5a7}
O\+N\+LY F\+OR T\+E\+S\+T\+I\+NG C\+H\+E\+CK T\+HE M\+AP A\+F\+T\+ER T\+H\+R\+E\+AD E\+X\+IT A\+ND A\+LL S\+H\+O\+U\+LD BE D\+E\+L\+E\+T\+E\+D!!!!!!! 

Definition at line \hyperlink{_t_x_8cpp_source_l00346}{346} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00115}{process\+\_\+map\+\_\+collection}, and \hyperlink{_t_x_8h_source_l00094}{working\+\_\+\+Map\+\_\+collection}.


\begin{DoxyCode}
00346                        \{
00347 
00348     std::cout << \textcolor{stringliteral}{"[PRINTALLTHREAD]"} << std::endl;
00349     std::map< int, std::shared\_ptr<OSTM> >::iterator it;
00350     \textcolor{comment}{/*}
00351 \textcolor{comment}{     * All registered thread id in the TX global }
00352 \textcolor{comment}{     */}
00353     \textcolor{keywordtype}{int} ppid = getpid();
00354     std::map<int, std::map< int, int >>::iterator process\_map\_collection\_Iterator = 
      \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.find(ppid);
00355     \textcolor{keywordflow}{if} (process\_map\_collection\_Iterator != \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.end()) \{
00356 
00357         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} current = process\_map\_collection\_Iterator->second.begin(); current != 
      process\_map\_collection\_Iterator->second.end(); ++current) \{
00358             it = \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.find(current->first);
00359             \textcolor{keywordflow}{if}(it != \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.end())\{
00360                 std::cout << \textcolor{stringliteral}{"[Unique number ] : "} <<it->second->Get\_Unique\_ID() << std::endl;
00361             \}
00362 
00363             
00364         \}
00365      
00366     \}
00367 \}
\end{DoxyCode}
\index{TX@{TX}!\+\_\+register@{\+\_\+register}}
\index{\+\_\+register@{\+\_\+register}!TX@{TX}}
\paragraph[{\texorpdfstring{\+\_\+register(std\+::shared\+\_\+ptr$<$ O\+S\+T\+M $>$ object)}{_register(std::shared_ptr< OSTM > object)}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::\+\_\+register (
\begin{DoxyParamCaption}
\item[{std\+::shared\+\_\+ptr$<$ {\bf O\+S\+TM} $>$}]{object}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_abc32af2f51df97ac483e5bfe7db6ca6e_abc32af2f51df97ac483e5bfe7db6ca6e}{}\label{class_t_x_abc32af2f51df97ac483e5bfe7db6ca6e_abc32af2f51df97ac483e5bfe7db6ca6e}


Register \hyperlink{class_o_s_t_m}{O\+S\+TM} pointer into S\+TM library. 

register void, receives an std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ that point to the original memory space to protect from reca conditions


\begin{DoxyParams}{Parameters}
{\em working\+\_\+\+Map\+\_\+collection} & std\+::map, store all the std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ pointer in the transaction \\
\hline
{\em main\+\_\+\+Process\+\_\+\+Map\+\_\+collection} & std\+::map, store all std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ from all transaction, used to lock and compare the objects \\
\hline
{\em process\+\_\+map\+\_\+collection} & std\+::map, store all std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ unique ID from all transaction, used to delete all pointers used by the main process, from all transaction before the program exit. \\
\hline
{\em std\+::lock\+\_\+guard} & use register\+\_\+\+Lock(mutex) shared lock between all transaction \\
\hline
{\em ppid} & int, store main process number \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00104}{104} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8cpp_source_l00338}{get\+\_\+thread\+\_\+\+Map()}, \hyperlink{_t_x_8h_source_l00110}{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection}, \hyperlink{_t_x_8h_source_l00115}{process\+\_\+map\+\_\+collection}, \hyperlink{_t_x_8h_source_l00123}{register\+\_\+\+Lock}, and \hyperlink{_t_x_8h_source_l00094}{working\+\_\+\+Map\+\_\+collection}.


\begin{DoxyCode}
00104                                              \{
00105     \textcolor{comment}{/*}
00106 \textcolor{comment}{     * MUST USE SHARED LOCK TO PROTECT SHARED GLOBAL MAP/COLLECTION }
00107 \textcolor{comment}{     */}
00108     std::lock\_guard<std::mutex> guard(\hyperlink{class_t_x_aa688a8c96fa3cdf8cd92e267463536dc_aa688a8c96fa3cdf8cd92e267463536dc}{TX::register\_Lock});
00109     
00110     \textcolor{comment}{/*}
00111 \textcolor{comment}{     * Check for null pointer !}
00112 \textcolor{comment}{     * Null pointer can cause segmentation fault!!!}
00113 \textcolor{comment}{     */}
00114     \textcolor{keywordflow}{if}(\textcolor{keywordtype}{object} == \textcolor{keyword}{nullptr})\{
00115         \textcolor{keywordflow}{throw} std::runtime\_error(std::string(\textcolor{stringliteral}{"[RUNTIME ERROR : NULL POINTER IN REGISTER FUNCTION]"}) );
00116     \}
00117     
00118     \textcolor{keywordtype}{int} ppid = getpid();
00119     std::map<int, std::map< int, int >>::iterator process\_map\_collection\_Iterator = 
      \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.find(ppid);
00120     \textcolor{keywordflow}{if} (process\_map\_collection\_Iterator == \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.end()) \{
00121         \textcolor{comment}{/*}
00122 \textcolor{comment}{         * Register main process/application to the global map}
00123 \textcolor{comment}{         */}
00124         std::map< int, int >map =  \hyperlink{class_t_x_a3f5671423cb7b9f9c98f8a25f2a4b545_a3f5671423cb7b9f9c98f8a25f2a4b545}{get\_thread\_Map}();
00125         \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.insert(\{ppid, map\});
00126         \textcolor{comment}{/*}
00127 \textcolor{comment}{         * Get the map if registered first time}
00128 \textcolor{comment}{         */}
00129         process\_map\_collection\_Iterator = \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.find(ppid);
00130     \}
00131     std::map<int, std::shared\_ptr<OSTM>>::iterator main\_Process\_Map\_collection\_Iterator = 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.find(object->Get\_Unique\_ID());
00132     \textcolor{keywordflow}{if} (main\_Process\_Map\_collection\_Iterator == \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}
      .end()) \{
00133         \textcolor{comment}{/*}
00134 \textcolor{comment}{         * Insert to the GLOBAL MAP }
00135 \textcolor{comment}{         */}
00136         \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.insert(\{\textcolor{keywordtype}{object}->Get\_Unique\_ID(), \textcolor{keywordtype}{
      object}\});
00137         \textcolor{comment}{/*}
00138 \textcolor{comment}{         * Insert to the GLOBAL MAP as a helper to clean up at end of main process }
00139 \textcolor{comment}{         */}
00140         process\_map\_collection\_Iterator->second.insert(\{\textcolor{keywordtype}{object}->Get\_Unique\_ID(), 1\});
00141     \} 
00142 
00143 
00144     std::map< int, std::shared\_ptr<OSTM> >::iterator working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator 
      = \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.find(object->Get\_Unique\_ID());
00145     \textcolor{keywordflow}{if} (working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator == 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.end()) \{
00146 
00147         \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.insert(\{\textcolor{keywordtype}{object}->Get\_Unique\_ID(), \textcolor{keywordtype}{object}->getBaseCopy(\textcolor{keywordtype}{
      object})\});
00148     \}
00149 
00150 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{class_t_x_abc32af2f51df97ac483e5bfe7db6ca6e_abc32af2f51df97ac483e5bfe7db6ca6e_cgraph}
\end{center}
\end{figure}


\index{TX@{TX}!\+\_\+release\+\_\+object\+\_\+lock@{\+\_\+release\+\_\+object\+\_\+lock}}
\index{\+\_\+release\+\_\+object\+\_\+lock@{\+\_\+release\+\_\+object\+\_\+lock}!TX@{TX}}
\paragraph[{\texorpdfstring{\+\_\+release\+\_\+object\+\_\+lock()}{_release_object_lock()}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::\+\_\+release\+\_\+object\+\_\+lock (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_t_x_a4c13d2015dc15d0f788fa9a1413f0463_a4c13d2015dc15d0f788fa9a1413f0463}{}\label{class_t_x_a4c13d2015dc15d0f788fa9a1413f0463_a4c13d2015dc15d0f788fa9a1413f0463}


\+\_\+release\+\_\+object\+\_\+lock void, is get called from commit function, with the purpose to release the locks on all the objects participating in the transaction 

Release the locks in objects with transaction associated collection


\begin{DoxyParams}{Parameters}
{\em working\+\_\+\+Map\+\_\+collection} & std\+::map, store all the std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ pointer in the transaction \\
\hline
{\em main\+\_\+\+Process\+\_\+\+Map\+\_\+collection} & std\+::map, store all std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ from all transaction, used to release the lock on object \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00286}{286} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00110}{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection}, and \hyperlink{_t_x_8h_source_l00094}{working\+\_\+\+Map\+\_\+collection}.



Referenced by \hyperlink{_t_x_8cpp_source_l00202}{commit()}.


\begin{DoxyCode}
00286                              \{
00287     
00288     std::map< int, std::shared\_ptr<OSTM> >::iterator working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator;
00289     std::map<int, std::shared\_ptr<OSTM>>::iterator main\_Process\_Map\_collection\_Iterator;
00290     \textcolor{keywordflow}{for} (working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator = 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.begin(); working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator
       != \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.end(); 
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator++) \{
00291 
00292             main\_Process\_Map\_collection\_Iterator = 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.find((
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second)->Get\_Unique\_ID());
00293             \textcolor{keywordflow}{if} (main\_Process\_Map\_collection\_Iterator != 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.end()) \{
00294                 \textcolor{comment}{/*}
00295 \textcolor{comment}{                 * Release object lock}
00296 \textcolor{comment}{                 */}
00297                 (main\_Process\_Map\_collection\_Iterator)->second->unlock\_Mutex();
00298                 
00299             \} 
00300         \}
00301 \}
\end{DoxyCode}
\index{TX@{TX}!commit@{commit}}
\index{commit@{commit}!TX@{TX}}
\paragraph[{\texorpdfstring{commit()}{commit()}}]{\setlength{\rightskip}{0pt plus 5cm}bool T\+X\+::commit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_a9dde5d356b35e557448e58d260087356_a9dde5d356b35e557448e58d260087356}{}\label{class_t_x_a9dde5d356b35e557448e58d260087356_a9dde5d356b35e557448e58d260087356}


Commit transactional changes. 

commit bool, returns boolean value T\+R\+U\+E/\+F\+A\+L\+SE depends on the action taken within the function


\begin{DoxyParams}{Parameters}
{\em working\+\_\+\+Map\+\_\+collection} & std\+::map, store all the std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ pointer in the transaction \\
\hline
{\em main\+\_\+\+Process\+\_\+\+Map\+\_\+collection} & std\+::map, store all std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ from all transaction, used to lock and compare the objects \\
\hline
{\em can\+\_\+\+Commit} & bool, helps to make decision that the transaction can commit or rollback \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00202}{202} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8cpp_source_l00316}{\+\_\+decrease\+\_\+tx\+\_\+nesting()}, \hyperlink{_t_x_8cpp_source_l00286}{\+\_\+release\+\_\+object\+\_\+lock()}, \hyperlink{_t_x_8h_source_l00104}{\+\_\+tx\+\_\+nesting\+\_\+level}, \hyperlink{_t_x_8h_source_l00110}{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection}, \hyperlink{_t_x_8h_source_l00078}{test\+\_\+counter}, \hyperlink{_t_x_8cpp_source_l00052}{th\+\_\+exit()}, and \hyperlink{_t_x_8h_source_l00094}{working\+\_\+\+Map\+\_\+collection}.


\begin{DoxyCode}
00202                 \{
00203     
00204     \textcolor{keywordtype}{bool} can\_Commit = \textcolor{keyword}{true};
00205  
00206     \textcolor{comment}{/*}
00207 \textcolor{comment}{     * Dealing with nested transactions first }
00208 \textcolor{comment}{     */}
00209     \textcolor{keywordflow}{if} (this->\hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\_tx\_nesting\_level} > 0) \{
00210         \hyperlink{class_t_x_aa3ac499f576326588628ade96b27b4b1_aa3ac499f576326588628ade96b27b4b1}{\_decrease\_tx\_nesting}();
00211         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00212     \} 
00213     
00214     std::map< int, std::shared\_ptr<OSTM> >::iterator working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator;
00215 
00216     std::map<int, std::shared\_ptr<OSTM>>::iterator main\_Process\_Map\_collection\_Iterator;
00217     \textcolor{keywordflow}{for} (working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator = 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.begin(); working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator
       != \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.end(); 
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator++) \{
00218 
00219             main\_Process\_Map\_collection\_Iterator = 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.find(
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second->Get\_Unique\_ID());
00220             \textcolor{comment}{/*}
00221 \textcolor{comment}{             * Throws runtime error if object can not find}
00222 \textcolor{comment}{             */}
00223             \textcolor{keywordflow}{if}(main\_Process\_Map\_collection\_Iterator == 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.end())
00224             \{
00225                 \textcolor{keywordflow}{throw} std::runtime\_error(std::string(\textcolor{stringliteral}{"[RUNTIME ERROR : CAN'T FIND OBJECT COMMIT FUNCTION]"})
      );
00226             \} 
00227 
00228         \textcolor{comment}{/*}
00229 \textcolor{comment}{         * Busy wait WHILE object locked by other thread}
00230 \textcolor{comment}{         */}
00231         \textcolor{keywordflow}{while}(!(main\_Process\_Map\_collection\_Iterator->second)->is\_Locked());
00232 
00233         \textcolor{keywordflow}{if} (main\_Process\_Map\_collection\_Iterator->second->Get\_Version() > 
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second->Get\_Version()) \{
00234 
00235             working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second->Set\_Can\_Commit(\textcolor{keyword}{false});
00236             can\_Commit = \textcolor{keyword}{false};
00237             \textcolor{keywordflow}{break};
00238         \} \textcolor{keywordflow}{else} \{
00239 
00240             working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second->Set\_Can\_Commit(\textcolor{keyword}{true});
00241         \}
00242     \}
00243     \textcolor{keywordflow}{if} (!can\_Commit) \{
00244         \hyperlink{class_t_x_a25838234aab99ae891a90eb8623a8b3c_a25838234aab99ae891a90eb8623a8b3c}{TX::test\_counter} += 1;
00245         \textcolor{keywordflow}{for} (working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator = 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.begin(); working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator
       != \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.end(); 
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator++) \{
00246           
00247             main\_Process\_Map\_collection\_Iterator  = 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.find(
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second->Get\_Unique\_ID());
00248             (working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second)->copy(
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second, main\_Process\_Map\_collection\_Iterator->second);
00249 
00250         \}
00251         
00252         \hyperlink{class_t_x_a4c13d2015dc15d0f788fa9a1413f0463_a4c13d2015dc15d0f788fa9a1413f0463}{\_release\_object\_lock}();
00253 
00254         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00255     \} \textcolor{keywordflow}{else} \{
00256         \textcolor{comment}{/*}
00257 \textcolor{comment}{         * Commit changes}
00258 \textcolor{comment}{         */}
00259         \textcolor{keywordflow}{for} (working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator = 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.begin(); working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator
       != \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.end(); 
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator++) \{
00260             
00261                 main\_Process\_Map\_collection\_Iterator = 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.find((
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second)->Get\_Unique\_ID());
00262                 \textcolor{keywordflow}{if} (main\_Process\_Map\_collection\_Iterator != 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.end()) \{
00263 
00264                     (main\_Process\_Map\_collection\_Iterator->second)->copy(
      main\_Process\_Map\_collection\_Iterator->second, working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second);
00265                     main\_Process\_Map\_collection\_Iterator->second->increase\_VersionNumber();
00266 
00267 
00268                 \} \textcolor{keywordflow}{else} \{
00269                     \textcolor{keywordflow}{throw} std::runtime\_error(std::string(\textcolor{stringliteral}{"[RUNTIME ERROR : CAN'T FIND OBJECT COMMIT
       FUNCTION]"}));
00270 
00271                 \}
00272         \}
00273 
00274 
00275         \hyperlink{class_t_x_a4c13d2015dc15d0f788fa9a1413f0463_a4c13d2015dc15d0f788fa9a1413f0463}{\_release\_object\_lock}();
00276         this->\hyperlink{class_t_x_ae045534c4a9d39bd5c6ea2a39a372a79_ae045534c4a9d39bd5c6ea2a39a372a79}{th\_exit}();
00277         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00278     \}
00279 \}\textcolor{comment}{//Commit finish}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{class_t_x_a9dde5d356b35e557448e58d260087356_a9dde5d356b35e557448e58d260087356_cgraph}
\end{center}
\end{figure}


\index{TX@{TX}!get\+\_\+thread\+\_\+\+Map@{get\+\_\+thread\+\_\+\+Map}}
\index{get\+\_\+thread\+\_\+\+Map@{get\+\_\+thread\+\_\+\+Map}!TX@{TX}}
\paragraph[{\texorpdfstring{get\+\_\+thread\+\_\+\+Map()}{get_thread_Map()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ int, int $>$ T\+X\+::get\+\_\+thread\+\_\+\+Map (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_t_x_a3f5671423cb7b9f9c98f8a25f2a4b545_a3f5671423cb7b9f9c98f8a25f2a4b545}{}\label{class_t_x_a3f5671423cb7b9f9c98f8a25f2a4b545_a3f5671423cb7b9f9c98f8a25f2a4b545}


get\+\_\+thread\+\_\+\+Map returning and map to insert to the process\+\_\+map\+\_\+collection as an inner value 

get\+\_\+thread\+\_\+\+Map std\+::map, returning a map to store all unique ID from all objects from all transactions within the main process


\begin{DoxyParams}{Parameters}
{\em thread\+\_\+\+Map} & std\+::map$<$ int, int $>$, \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00338}{338} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



Referenced by \hyperlink{_t_x_8cpp_source_l00104}{\+\_\+register()}.


\begin{DoxyCode}
00338                                       \{
00339     std::map< int, int > thread\_Map;
00340     \textcolor{keywordflow}{return} thread\_Map;
00341 \}
\end{DoxyCode}
\index{TX@{TX}!get\+Test\+\_\+counter@{get\+Test\+\_\+counter}}
\index{get\+Test\+\_\+counter@{get\+Test\+\_\+counter}!TX@{TX}}
\paragraph[{\texorpdfstring{get\+Test\+\_\+counter()}{getTest_counter()}}]{\setlength{\rightskip}{0pt plus 5cm}int T\+X\+::get\+Test\+\_\+counter (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_ae9bf97930c4670f59d334b345353a71e_ae9bf97930c4670f59d334b345353a71e}{}\label{class_t_x_ae9bf97930c4670f59d334b345353a71e_ae9bf97930c4670f59d334b345353a71e}


get\+Test\+\_\+counter T\+E\+S\+T\+I\+NG O\+N\+L\+Y!!! returning the value of the test\+\_\+counter stored, number of rollbacks 



Definition at line \hyperlink{_t_x_8cpp_source_l00324}{324} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00078}{test\+\_\+counter}.


\begin{DoxyCode}
00324                         \{
00325     \textcolor{keywordflow}{return} \hyperlink{class_t_x_a25838234aab99ae891a90eb8623a8b3c_a25838234aab99ae891a90eb8623a8b3c}{TX::test\_counter};
00326 \}
\end{DoxyCode}
\index{TX@{TX}!get\+Tx\+\_\+nesting\+\_\+level@{get\+Tx\+\_\+nesting\+\_\+level}}
\index{get\+Tx\+\_\+nesting\+\_\+level@{get\+Tx\+\_\+nesting\+\_\+level}!TX@{TX}}
\paragraph[{\texorpdfstring{get\+Tx\+\_\+nesting\+\_\+level() const }{getTx_nesting_level() const }}]{\setlength{\rightskip}{0pt plus 5cm}int T\+X\+::get\+Tx\+\_\+nesting\+\_\+level (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_t_x_afc42d088f325b349e70651fb454e6a44_afc42d088f325b349e70651fb454e6a44}{}\label{class_t_x_afc42d088f325b349e70651fb454e6a44_afc42d088f325b349e70651fb454e6a44}


Definition at line \hyperlink{_t_x_8cpp_source_l00374}{374} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00104}{\+\_\+tx\+\_\+nesting\+\_\+level}.


\begin{DoxyCode}
00374                                   \{
00375     \textcolor{keywordflow}{return} \hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\_tx\_nesting\_level};
00376 \}\end{DoxyCode}
\index{TX@{TX}!load@{load}}
\index{load@{load}!TX@{TX}}
\paragraph[{\texorpdfstring{load(std\+::shared\+\_\+ptr$<$ O\+S\+T\+M $>$ object)}{load(std::shared_ptr< OSTM > object)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::shared\+\_\+ptr$<$ {\bf O\+S\+TM} $>$ T\+X\+::load (
\begin{DoxyParamCaption}
\item[{std\+::shared\+\_\+ptr$<$ {\bf O\+S\+TM} $>$}]{object}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_a1d78262b8831ddd042ed491f2e600e24_a1d78262b8831ddd042ed491f2e600e24}{}\label{class_t_x_a1d78262b8831ddd042ed491f2e600e24_a1d78262b8831ddd042ed491f2e600e24}


load std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$, returning an std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ copy of the original pointer, to work with during transaction life time 

Register \hyperlink{class_o_s_t_m}{O\+S\+TM} pointer into S\+TM library


\begin{DoxyParams}{Parameters}
{\em working\+\_\+\+Map\+\_\+collection} & std\+::map, store all the std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ pointer in the transaction \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00155}{155} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00094}{working\+\_\+\+Map\+\_\+collection}.


\begin{DoxyCode}
00155                                                        \{
00156 
00157     std::map< int, std::shared\_ptr<OSTM> >::iterator working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator;
00158     \textcolor{comment}{/*}
00159 \textcolor{comment}{     * Check for null pointer !}
00160 \textcolor{comment}{     * Null pointer can cause segmentation fault!!!}
00161 \textcolor{comment}{     */}
00162     \textcolor{keywordflow}{if}(\textcolor{keywordtype}{object} == \textcolor{keyword}{nullptr})\{
00163         \textcolor{keywordflow}{throw} std::runtime\_error(std::string(\textcolor{stringliteral}{"[RUNTIME ERROR : NULL POINTER IN LOAD FUNCTION]"}) );
00164     \}
00165 
00166         working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator = 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.find(object->Get\_Unique\_ID());
00167 
00168     \textcolor{keywordflow}{if} (working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator != 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.end()) \{
00169 
00170         \textcolor{keywordflow}{return} working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second->getBaseCopy(
      working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second);
00171         
00172     \} \textcolor{keywordflow}{else} \{ \textcolor{keywordflow}{throw} std::runtime\_error(std::string(\textcolor{stringliteral}{"[RUNTIME ERROR : NO OBJECT FOUND LOAD FUNCTION]"}) );\}
00173 \}
\end{DoxyCode}
\index{TX@{TX}!ostm\+\_\+exit@{ostm\+\_\+exit}}
\index{ostm\+\_\+exit@{ostm\+\_\+exit}!TX@{TX}}
\paragraph[{\texorpdfstring{ostm\+\_\+exit()}{ostm_exit()}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::ostm\+\_\+exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_aa9739c5c2077454c779098db7baefc2b_aa9739c5c2077454c779098db7baefc2b}{}\label{class_t_x_aa9739c5c2077454c779098db7baefc2b_aa9739c5c2077454c779098db7baefc2b}


Delete all map entries associated with the main process. 

ostm\+\_\+exit void, clear all elements from the shared global collections associated with the main process


\begin{DoxyParams}{Parameters}
{\em main\+\_\+\+Process\+\_\+\+Map\+\_\+collection} & std\+::map, store all std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ from all transaction shared between multiple processes \\
\hline
{\em process\+\_\+map\+\_\+collection} & std\+::map, store all unique id from all transaction within main process DO N\+OT C\+A\+LL T\+H\+IS M\+E\+T\+H\+OD E\+X\+P\+L\+I\+C\+I\+T\+L\+Y!!!!!! W\+I\+LL D\+E\+L\+E\+TE A\+LL P\+R\+O\+C\+E\+SS A\+S\+S\+O\+C\+I\+A\+T\+ED E\+L\+E\+M\+E\+N\+T\+S!!!! \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00072}{72} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00110}{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection}, and \hyperlink{_t_x_8h_source_l00115}{process\+\_\+map\+\_\+collection}.



Referenced by \hyperlink{_t_m_8cpp_source_l00102}{T\+M\+::\+\_\+\+T\+X\+\_\+\+E\+X\+I\+T()}.


\begin{DoxyCode}
00072                    \{
00073     std::map<int, std::shared\_ptr<OSTM>>::iterator main\_Process\_Map\_collection\_Iterator;
00074      
00075     \textcolor{keywordtype}{int} ppid = getpid();
00076     std::map<int, std::map< int, int >>::iterator process\_map\_collection\_Iterator = 
      \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.find(ppid);
00077     \textcolor{keywordflow}{if} (process\_map\_collection\_Iterator != \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.end()) \{
00078 
00079         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} current = process\_map\_collection\_Iterator->second.begin(); current != 
      process\_map\_collection\_Iterator->second.end(); ++current) \{
00080             main\_Process\_Map\_collection\_Iterator = 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.find(current->first);
00081 
00082             \textcolor{keywordflow}{if} (main\_Process\_Map\_collection\_Iterator != 
      \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.end())\{
00083                 \textcolor{comment}{/*}
00084 \textcolor{comment}{                 * Delete element from shared main\_Process\_Map\_collection by object unique key value,
       shared\_ptr will destroy automatically}
00085 \textcolor{comment}{                 */}
00086                 \hyperlink{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{TX::main\_Process\_Map\_collection}.erase(
      main\_Process\_Map\_collection\_Iterator->first);      
00087             \}
00088         \}
00089         \textcolor{comment}{/*}
00090 \textcolor{comment}{         * Delete from Process\_map\_collection, Main process exits delete association with library}
00091 \textcolor{comment}{         */}
00092         \hyperlink{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{TX::process\_map\_collection}.erase(process\_map\_collection\_Iterator->first);
00093     \}
00094 \}
\end{DoxyCode}
\index{TX@{TX}!set\+Tx\+\_\+nesting\+\_\+level@{set\+Tx\+\_\+nesting\+\_\+level}}
\index{set\+Tx\+\_\+nesting\+\_\+level@{set\+Tx\+\_\+nesting\+\_\+level}!TX@{TX}}
\paragraph[{\texorpdfstring{set\+Tx\+\_\+nesting\+\_\+level(int \+\_\+tx\+\_\+nesting\+\_\+level)}{setTx_nesting_level(int _tx_nesting_level)}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::set\+Tx\+\_\+nesting\+\_\+level (
\begin{DoxyParamCaption}
\item[{int}]{\+\_\+tx\+\_\+nesting\+\_\+level}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_aef4636bd446ddca0a399bb5bd438dfde_aef4636bd446ddca0a399bb5bd438dfde}{}\label{class_t_x_aef4636bd446ddca0a399bb5bd438dfde_aef4636bd446ddca0a399bb5bd438dfde}


Definition at line \hyperlink{_t_x_8cpp_source_l00370}{370} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00104}{\+\_\+tx\+\_\+nesting\+\_\+level}.


\begin{DoxyCode}
00370                                                   \{
00371     this->\hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\_tx\_nesting\_level} = \hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\_tx\_nesting\_level};
00372 \}
\end{DoxyCode}
\index{TX@{TX}!store@{store}}
\index{store@{store}!TX@{TX}}
\paragraph[{\texorpdfstring{store(std\+::shared\+\_\+ptr$<$ O\+S\+T\+M $>$ object)}{store(std::shared_ptr< OSTM > object)}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::store (
\begin{DoxyParamCaption}
\item[{std\+::shared\+\_\+ptr$<$ {\bf O\+S\+TM} $>$}]{object}
\end{DoxyParamCaption}
)}\hypertarget{class_t_x_a7dbcb369aa4a3370b6c6829d278ece5d_a7dbcb369aa4a3370b6c6829d278ece5d}{}\label{class_t_x_a7dbcb369aa4a3370b6c6829d278ece5d_a7dbcb369aa4a3370b6c6829d278ece5d}


Store transactional changes. 

store void, receive an std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ object to store the changes within the transaction, depends the user action


\begin{DoxyParams}{Parameters}
{\em working\+\_\+\+Map\+\_\+collection} & std\+::map, store all the std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ pointer in the transaction \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00178}{178} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00094}{working\+\_\+\+Map\+\_\+collection}.


\begin{DoxyCode}
00178                                          \{
00179     \textcolor{comment}{/*}
00180 \textcolor{comment}{     * Check for null pointer !}
00181 \textcolor{comment}{     * Null pointer can cause segmentation fault!!!}
00182 \textcolor{comment}{     */}
00183     \textcolor{keywordflow}{if}(\textcolor{keywordtype}{object} == \textcolor{keyword}{nullptr})\{
00184         \textcolor{keywordflow}{throw} std::runtime\_error(std::string(\textcolor{stringliteral}{"[RUNTIME ERROR : NULL POINTER IN STORE FUNCTION]"}) );
00185     \}
00186     
00187     std::map< int, std::shared\_ptr<OSTM> >::iterator working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator;
00188 
00189     working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator = 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.find(object->Get\_Unique\_ID());
00190     \textcolor{keywordflow}{if} (working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator != 
      \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.end()) \{
00191 
00192         working\_Map\_collection\_Object\_Shared\_Pointer\_Iterator->second = object;
00193 
00194     \} \textcolor{keywordflow}{else} \{ std::cout << \textcolor{stringliteral}{"[ERROR STORE]"} << std::endl; \}
00195 \}
\end{DoxyCode}
\index{TX@{TX}!th\+\_\+exit@{th\+\_\+exit}}
\index{th\+\_\+exit@{th\+\_\+exit}!TX@{TX}}
\paragraph[{\texorpdfstring{th\+\_\+exit()}{th_exit()}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+X\+::th\+\_\+exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_t_x_ae045534c4a9d39bd5c6ea2a39a372a79_ae045534c4a9d39bd5c6ea2a39a372a79}{}\label{class_t_x_ae045534c4a9d39bd5c6ea2a39a372a79_ae045534c4a9d39bd5c6ea2a39a372a79}


Clean up all associated values by the thread delete from working\+\_\+\+Map\+\_\+collection, it is an automated function. 

th\+\_\+exit void, delete all std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ elements from working\+\_\+\+Map\+\_\+collection, that store pointers to working objects


\begin{DoxyParams}{Parameters}
{\em working\+\_\+\+Map\+\_\+collection} & std\+::map, store std\+::shared\+\_\+ptr$<$\+O\+S\+T\+M$>$ transaction pointers \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8cpp_source_l00052}{52} of file \hyperlink{_t_x_8cpp_source}{T\+X.\+cpp}.



References \hyperlink{_t_x_8h_source_l00104}{\+\_\+tx\+\_\+nesting\+\_\+level}, and \hyperlink{_t_x_8h_source_l00094}{working\+\_\+\+Map\+\_\+collection}.



Referenced by \hyperlink{_t_x_8cpp_source_l00202}{commit()}.


\begin{DoxyCode}
00052                  \{
00053 
00054     \textcolor{keywordflow}{if} (this->\hyperlink{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{\_tx\_nesting\_level} > 0) \{
00055         \textcolor{comment}{/*}
00056 \textcolor{comment}{         * Active nested transactions running in background, do not delete anything yet}
00057 \textcolor{comment}{         */}
00058     \} \textcolor{keywordflow}{else} \{
00059         \textcolor{comment}{/* }
00060 \textcolor{comment}{         * Remove all elements map entries from transaction and clear the map}
00061 \textcolor{comment}{         */}
00062         \hyperlink{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{working\_Map\_collection}.clear();
00063     \}
00064 \}
\end{DoxyCode}


\subsubsection{Friends And Related Function Documentation}
\index{TX@{TX}!TM@{TM}}
\index{TM@{TM}!TX@{TX}}
\paragraph[{\texorpdfstring{TM}{TM}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf TM}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{class_t_x_adf1ccda799ef5c419cb43b8ae55eb45c_adf1ccda799ef5c419cb43b8ae55eb45c}{}\label{class_t_x_adf1ccda799ef5c419cb43b8ae55eb45c_adf1ccda799ef5c419cb43b8ae55eb45c}
Only \hyperlink{class_t_m}{TM} Transaction Manager can create instance of \hyperlink{class_t_x}{TX} Transaction 

Definition at line \hyperlink{_t_x_8h_source_l00070}{70} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



\subsubsection{Member Data Documentation}
\index{TX@{TX}!\+\_\+tx\+\_\+nesting\+\_\+level@{\+\_\+tx\+\_\+nesting\+\_\+level}}
\index{\+\_\+tx\+\_\+nesting\+\_\+level@{\+\_\+tx\+\_\+nesting\+\_\+level}!TX@{TX}}
\paragraph[{\texorpdfstring{\+\_\+tx\+\_\+nesting\+\_\+level}{_tx_nesting_level}}]{\setlength{\rightskip}{0pt plus 5cm}int T\+X\+::\+\_\+tx\+\_\+nesting\+\_\+level\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}{}\label{class_t_x_ae8f413fd7f4fea322e7ad3c668f9898e_ae8f413fd7f4fea322e7ad3c668f9898e}

\begin{DoxyParams}{Parameters}
{\em \+\_\+tx\+\_\+nesting\+\_\+level} & int \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8h_source_l00104}{104} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



Referenced by \hyperlink{_t_x_8cpp_source_l00316}{\+\_\+decrease\+\_\+tx\+\_\+nesting()}, \hyperlink{_t_x_8cpp_source_l00307}{\+\_\+increase\+\_\+tx\+\_\+nesting()}, \hyperlink{_t_x_8cpp_source_l00202}{commit()}, \hyperlink{_t_x_8cpp_source_l00374}{get\+Tx\+\_\+nesting\+\_\+level()}, \hyperlink{_t_x_8cpp_source_l00370}{set\+Tx\+\_\+nesting\+\_\+level()}, \hyperlink{_t_x_8cpp_source_l00052}{th\+\_\+exit()}, and \hyperlink{_t_x_8cpp_source_l00031}{T\+X()}.

\index{TX@{TX}!main\+\_\+\+Process\+\_\+\+Map\+\_\+collection@{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection}}
\index{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection@{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection}!TX@{TX}}
\paragraph[{\texorpdfstring{main\+\_\+\+Process\+\_\+\+Map\+\_\+collection}{main_Process_Map_collection}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ int, std\+::shared\+\_\+ptr$<$ {\bf O\+S\+TM} $>$ $>$ T\+X\+::main\+\_\+\+Process\+\_\+\+Map\+\_\+collection\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}{}\label{class_t_x_a1a45d726894190695314464d7cd97c29_a1a45d726894190695314464d7cd97c29}


S\+T\+A\+T\+IC G\+L\+O\+B\+AL M\+AP Collection to store O\+S\+T\+M$\ast$ parent based pointers to control/lock and compare objects version number within transactions. 


\begin{DoxyParams}{Parameters}
{\em main\+\_\+\+Process\+\_\+\+Map\+\_\+collection} & std\+::map\\
\hline
{\em static} & Global std\+::map main\+\_\+\+Process\+\_\+\+Map\+\_\+collection store all transactional objects/pointers \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8h_source_l00110}{110} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



Referenced by \hyperlink{_t_x_8cpp_source_l00104}{\+\_\+register()}, \hyperlink{_t_x_8cpp_source_l00286}{\+\_\+release\+\_\+object\+\_\+lock()}, \hyperlink{_t_x_8cpp_source_l00202}{commit()}, and \hyperlink{_t_x_8cpp_source_l00072}{ostm\+\_\+exit()}.

\index{TX@{TX}!process\+\_\+map\+\_\+collection@{process\+\_\+map\+\_\+collection}}
\index{process\+\_\+map\+\_\+collection@{process\+\_\+map\+\_\+collection}!TX@{TX}}
\paragraph[{\texorpdfstring{process\+\_\+map\+\_\+collection}{process_map_collection}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ int, std\+::map$<$ int, int $>$ $>$ T\+X\+::process\+\_\+map\+\_\+collection\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}{}\label{class_t_x_aea5b8eedcd5059384155576b3979a5f6_aea5b8eedcd5059384155576b3979a5f6}


S\+T\+A\+T\+IC G\+L\+O\+B\+AL M\+AP Collection to store all process associated keys to find when deleting transactions. 


\begin{DoxyParams}{Parameters}
{\em process\+\_\+map\+\_\+collection} & std\+::map\\
\hline
{\em static} & Global std\+::map process\+\_\+map\+\_\+collection store all transactional objects/pointers \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8h_source_l00115}{115} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



Referenced by \hyperlink{_t_x_8cpp_source_l00346}{\+\_\+print\+\_\+all\+\_\+tx()}, \hyperlink{_t_x_8cpp_source_l00104}{\+\_\+register()}, and \hyperlink{_t_x_8cpp_source_l00072}{ostm\+\_\+exit()}.

\index{TX@{TX}!register\+\_\+\+Lock@{register\+\_\+\+Lock}}
\index{register\+\_\+\+Lock@{register\+\_\+\+Lock}!TX@{TX}}
\paragraph[{\texorpdfstring{register\+\_\+\+Lock}{register_Lock}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::mutex T\+X\+::register\+\_\+\+Lock\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{class_t_x_aa688a8c96fa3cdf8cd92e267463536dc_aa688a8c96fa3cdf8cd92e267463536dc}{}\label{class_t_x_aa688a8c96fa3cdf8cd92e267463536dc_aa688a8c96fa3cdf8cd92e267463536dc}

\begin{DoxyParams}{Parameters}
{\em register\+\_\+\+Lock} & std\+::mutex to control shared access on M\+A\+IN M\+AP\\
\hline
{\em static} & shared std\+:mutex register\+\_\+\+Lock to protect writes into shared global collection \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8h_source_l00123}{123} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



Referenced by \hyperlink{_t_x_8cpp_source_l00104}{\+\_\+register()}.

\index{TX@{TX}!test\+\_\+counter@{test\+\_\+counter}}
\index{test\+\_\+counter@{test\+\_\+counter}!TX@{TX}}
\paragraph[{\texorpdfstring{test\+\_\+counter}{test_counter}}]{\setlength{\rightskip}{0pt plus 5cm}int T\+X\+::test\+\_\+counter = 0\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_t_x_a25838234aab99ae891a90eb8623a8b3c_a25838234aab99ae891a90eb8623a8b3c}{}\label{class_t_x_a25838234aab99ae891a90eb8623a8b3c_a25838234aab99ae891a90eb8623a8b3c}

\begin{DoxyParams}{Parameters}
{\em test\+\_\+counter} & int O\+N\+LY F\+OR T\+E\+S\+T\+I\+N\+G!!!\\
\hline
{\em static} & Global counter for rollback \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8h_source_l00078}{78} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



Referenced by \hyperlink{_t_x_8cpp_source_l00202}{commit()}, and \hyperlink{_t_x_8cpp_source_l00324}{get\+Test\+\_\+counter()}.

\index{TX@{TX}!transaction\+\_\+\+Number@{transaction\+\_\+\+Number}}
\index{transaction\+\_\+\+Number@{transaction\+\_\+\+Number}!TX@{TX}}
\paragraph[{\texorpdfstring{transaction\+\_\+\+Number}{transaction_Number}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::thread\+::id T\+X\+::transaction\+\_\+\+Number\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_t_x_a145a1c74b521f277fe481971a930b249_a145a1c74b521f277fe481971a930b249}{}\label{class_t_x_a145a1c74b521f277fe481971a930b249_a145a1c74b521f277fe481971a930b249}


Returning the transaction number. 


\begin{DoxyParams}{Parameters}
{\em transaction\+\_\+\+Number} & std\+::thread\+::id N\+OT U\+S\+ED Y\+ET \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8h_source_l00100}{100} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



Referenced by \hyperlink{_t_x_8cpp_source_l00331}{\+\_\+get\+\_\+tx\+\_\+number()}, and \hyperlink{_t_x_8cpp_source_l00031}{T\+X()}.

\index{TX@{TX}!working\+\_\+\+Map\+\_\+collection@{working\+\_\+\+Map\+\_\+collection}}
\index{working\+\_\+\+Map\+\_\+collection@{working\+\_\+\+Map\+\_\+collection}!TX@{TX}}
\paragraph[{\texorpdfstring{working\+\_\+\+Map\+\_\+collection}{working_Map_collection}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ int, std\+::shared\+\_\+ptr$<${\bf O\+S\+TM}$>$ $>$ T\+X\+::working\+\_\+\+Map\+\_\+collection\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}{}\label{class_t_x_a81aafda16e2f20e36ec6c68e584668ff_a81aafda16e2f20e36ec6c68e584668ff}


M\+AP Collection to store O\+S\+T\+M$\ast$ parent based pointers to make invisible changes during isolated transaction. 


\begin{DoxyParams}{Parameters}
{\em working\+\_\+\+Map\+\_\+collection} & std\+::map \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{_t_x_8h_source_l00094}{94} of file \hyperlink{_t_x_8h_source}{T\+X.\+h}.



Referenced by \hyperlink{_t_x_8cpp_source_l00346}{\+\_\+print\+\_\+all\+\_\+tx()}, \hyperlink{_t_x_8cpp_source_l00104}{\+\_\+register()}, \hyperlink{_t_x_8cpp_source_l00286}{\+\_\+release\+\_\+object\+\_\+lock()}, \hyperlink{_t_x_8cpp_source_l00202}{commit()}, \hyperlink{_t_x_8cpp_source_l00155}{load()}, \hyperlink{_t_x_8cpp_source_l00178}{store()}, and \hyperlink{_t_x_8cpp_source_l00052}{th\+\_\+exit()}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_t_x_8h}{T\+X.\+h}\item 
\hyperlink{_t_x_8cpp}{T\+X.\+cpp}\end{DoxyCompactItemize}
